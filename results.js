document.addEventListener("DOMContentLoaded", () => {
  const finalCategory = localStorage.getItem("finalCategory");
  const ageGroup = localStorage.getItem("ageGroup") || "adult";
  const userName = localStorage.getItem("userName") || "ฺฉุงุฑุจุฑ ุนุฒุฒ";
  
  localStorage.removeItem("userAnswers");
  localStorage.removeItem("finalCategory");

  const resultData = {
    "Creativity & Expression": {
      personality: "โจ ุชู ุงุญุชูุงูุงู ุฌุฒู ุงู ุชูพโูุง ุดุฎุตุช ูุณุช: ENFP - INFP - ISFP - ESFP",
      description: `<p>ุชู ุขุฏู ูุณุช ฺฉู ุจุดุชุฑ ุจุง ุงุญุณุงุณุงุช ุฏุฑูู ู ุฑูุงูุง ุฒูุฏฺฏ ูโฺฉู. ุนูู ูฺฉุฑ ูโฺฉูุ ุจู ุฌุฒุฆุงุช ุฏูุช ุฏุงุฑ ู ููุช ฺุฒ ุฑู ูุงูุนุงู ุฏุฑฺฉ ฺฉูุ ุฏฺฏู ูุฑุงููุดุด ููโฺฉู.
      ุงุฏฺฏุฑ ุจุฑุง ุชู ููุท ุญูุธ ฺฉุฑุฏู ฺฉููุงุช ุง ููุงูู ฺฏุฑุงูุฑ ูุณุชุ ุชู ูุงุฒ ุฏุงุฑ ุจุง ุฒุจุงู ุงุฑุชุจุงุท ุงุญุณุงุณ ุจฺฏุฑ. ููุช ุฒุจุงู ุจุง ู ุฏุงุณุชุงูุ ุขููฺฏุ ููู ุง ุญุช ู ููุถูุน ููุณู ุชุฑฺฉุจ ูโุดูุ ุชุงุฒู ุชูุฌููุช ฺฉุงูู ุฌุฐุจ ูโุดู.
      </p>
    <br>
      <p>
ุชู ุจู ุดฺฉู ุฎูุฏุช ุงุฏ ูโฺฏุฑุ ุชู ุณฺฉูุชุ ุจุง ุงูุชุฎุงุจโูุง ุฎูุฏุชุ ุจุง ุชูุฑฺฉุฒ ุจุงูุง ู ุจุง ูุนูุง. ุจู ููู ุฎุงุทุฑ:
</p>
<p>๐ง ุงุญุชูุงูุงู ุงุฒ ุงุฏฺฏุฑ ุฒุจุงู ุงุฒ ุทุฑู ููุณูุ ูููุ ุง ูฺฉุงููุงุช ุนูู ุฏุฑุจุงุฑู ููุถูุนุงุช ูุงูุน ุจุดุชุฑ ูุฐุช ูโุจุฑ.</p>
<P>๐ง ุชูุฑูโูุง ุดุฎุตโุณุงุฒโุดุฏูุ ูุถุง ุฎููุช ุจุฑุง ูฺฉุฑ ฺฉุฑุฏูุ ู ุฑุงูโูุง ฺฉู ุจุชูู ุญุฑู ุฏูุช ุฑู ุจุฒูุ ุจุดุชุฑ ุจุฑุงุช ุฌูุงุจ ูโุฏู.</P>
<p>๐ ุญูุธ ฺฉุฑุฏู ุฎุดฺฉ ุง ุฑูุงุจุช ุชู ฺฉูุงุณโูุง ูพุฑ ุณุฑ ู ุตุฏุง ููฺฉูู ุฎุณุชูโุช ฺฉููุ ฺูู ุชู ุจู ุนูู ูุงุฒ ุฏุงุฑ ูู ุณุทุญ.
</p>
<br>
<p>ุงูุง ุฏูุฑู ูุง ูุณุชู ฺฉ ุจุง ุฑูุญู ู ุดุฎุตุช ุชู ููุงููฺฏู. ุจูุช ูพุดููุงุฏ ูฺฉูู ุญุชูุง ุจุฑ ุฏูุจุงูุดูู ู ุชูุดูู ุดุฑฺฉุช ฺฉูโุ ุดุงุฏ ุฏููุง ูููู ฺุฒ ุจุงุดู ฺฉู ููุชุธุฑุด ุจูุฏ!โจ</p>`,
        
        courses: {
        teen: ["English Through Music", "Creative Writing", "Expressive Speaking"],
        adult: ["Advanced Storytelling", "Philosophical Conversations", "Creative Expression Workshop"]
      } 
    },

    "Logic & Structure": {
      personality: "๐ง ุชู ุงุญุชูุงูุงู ุฌุฒู ุงู ุชูพโูุง ุดุฎุตุช ูุณุช: INTJ - ISTJ - ENTJ - ESTJ",
      description: `<p>ุชู ุฐูู ูุนุงู ุฏุงุฑ ฺฉู ุจุง ูุธูุ ุชุญูู ู ููุทู ุฒูุฏูโุณุช. ููุช ู ุณุณุชู ูุงุถุญ ุฌููุช ุจุงุดู ุง ู ูุณุฆูู ูพฺุฏู ุฑู ุจุฎูุง ุญู ฺฉูุ ุชูุฑฺฉุฒุช ุจู ุงูุฌ ูโุฑุณู.
</p>
<br>
<p>ุชู ุฏูุจุงู ูุนู ูพุดุช ฺุฒูุง ูุณุชุ ูู ูู ุงุฒ ุฑุงู ุงุญุณุงุณุ ุงุฒ ุฑุงู ุณุงุฎุชุงุฑุ ุชูฺฉุฑ ู ฺุงุฑฺูุจ.</p>
<p>ุงุฏฺฏุฑ ุจุฑุง ุชู ู ูพุฑูฺู ุฌุฏููุ ูู ู ุชูุฑุญ ฺฏุฐุฑุง. ุฏูุช ูโุฎูุงุฏ ูุฑ ูุฏู ฺฉู ุจุฑูโุฏุงุฑุ ูุฏูููุฏ ู ูุคุซุฑ ุจุงุดู.</p>
<p>๐ ุจุฑูุงููโุฑุฒุ ุณุงุฎุชุงุฑุ ู ุชูุฑูโูุง ูุฑุญููโุจูโูุฑุญูู ุจูุช ุขุฑุงูุด ูโุฏู.
๐ ูู</p>
<p>ุชู ููุงุนุฏ ุฒุจุงู ุฑู ุจุง ููุทู ุงุฏ ูโฺฏุฑุ ุงูฺฏุงุฑ ูููโฺ ุจุฑุงุช ุณุฑ ุฌุงุด ูโุงูุชู.</p>
<p>๐ ฺฉูุงุณโูุง ุญุฑููโุงุ ูุฏูโููุฏ ู ุจุง ุณุงุฎุชุงุฑ ููุธู ุจุดุชุฑ ุจุง ุดุฎุตุชุช ููุงููฺฏู.</p>
<p>ุชู ูโุฎูุง ุฒุจุงู ุฑู ุฏูู ู ฺฉุงูู ุงุฏ ุจฺฏุฑุ ูู ุตุฑูุงู ุจุฑุง ูฺฉุงูููุ ุจูฺฉู ุจุฑุง ุชุณููุท. ู ุงฺฏู ุงู ูุณุฑ ุฑู ุจุง ูุธู ู ุชูุฑฺฉุฒ ุฌูู ุจุจุฑุ ุจุฏูู ุดฺฉ ูููู ูุด.
</p>
<br>
<p>ุงูุง ุฏูุฑู ูุง ูุณุชู ฺฉ ุจุง ุฑูุญู ู ุดุฎุตุช ุชู ููุงููฺฏู. ุจูุช ูพุดููุงุฏ ูฺฉูู ุญุชูุง ุจุฑ ุฏูุจุงูุดูู ู ุชูุดูู ุดุฑฺฉุช ฺฉูโุ ุดุงุฏ ุฏููุง ูููู ฺุฒ ุจุงุดู ฺฉู ููุชุธุฑุด ุจูุฏ! โจ</p>`,

      courses: {
        teen: ["Grammar Mastery", "Language Analysis", "Structured Speaking"],
        adult: ["Advanced Grammar & Syntax", "Business English", "Formal Writing"]
      }
    },

    "Talk & Connect": {
      personality: "๐ฌ ุชู ุงุญุชูุงูุงู ุฌุฒู ุงู ุชูพโูุง ุดุฎุตุช ูุณุช: ENFJ - ESFJ - INFJ - ISFJ",
      description: `
      <p>ู ุฒูุฏูโุง ููุช ุฏุฑ ุงุฑุชุจุงุท. ุงุฏฺฏุฑ ุจุฑุง ุชู ุนู ฺฏูุชโูฺฏูุ ุชุจุงุฏูุ ุดูุฎุ ุชุฌุฑุจูโูุง ูุงูุน. ุชู ุจุง ุงูุฑฺ ุฌูุน ุดุงุฑฺ ูโุด ู ุชู ูุญุทโูุง ุดุงุฏ ู ูุนุงูุ ุฐููุช ุจูุชุฑ ฺฉุงุฑ ูโฺฉูู.
</p>
<br>
<p>ฺฉูุงุณโูุง ุฎุดฺฉ ุง ุณุงฺฉุช ุฎุณุชูโุช ูโฺฉูู. ุชู ูุงุฒ ุฏุงุฑ ุดูุฏู ุดุ ุญุฑู ุจุฒูุ ุจุฎูุฏุ ุจุงุฒ ฺฉู.</p>
<p>๐ค ูฺฉุงูููโูุง ฺฏุฑููุ ุจุงุฒโูุง ุฒุจุงูุ ู ฺฉุงุฑ ุชู ุจุฑุง ุชู ุงุฏูโุขูู.</p>
<p>๐ ุชู ููุช ุฑุดุฏ ูโฺฉู ฺฉู ุชู ุฌูุน ุจุงุดุ ุจุง ุขุฏูุง ุฏุฑฺฏุฑ ุดุ ุญุช ุงฺฏู ุงุดุชุจุงู ฺฉู.</p>
<p>๐ฏ ุฒุจุงู ุจุฑุง ุชู ู ููุงุฑุชูุ ูู ูููโุชุฑ ุงุฒ ุงูู ู ูพู ุงุฑุชุจุงุทู ุจู ุชู ู ุฏูุง ุจุฑูู.</p>
<p>ููุช ุณุจฺฉ ุงุฏฺฏุฑุช ุงุฌุชูุงุน ุจุงุดูุ ุงุฏ ฺฏุฑูุชู ุจุฑุงุช ู ูุงุฌุฑุงุฌู ุฎูุดุงูุฏ ูโุดูุ ูู ู ุงุฌุจุงุฑ.</p>
<br>
<p>ุงูุง ุฏูุฑู ูุง ูุณุชู ฺฉ ุจุง ุฑูุญู ู ุดุฎุตุช ุชู ููุงููฺฏู. ุจูุช ูพุดููุงุฏ ูฺฉูู ุญุชูุง ุจุฑ ุฏูุจุงูุดูู ู ุชูุดูู ุดุฑฺฉุช ฺฉูโุ ุดุงุฏ ุฏููุง ูููู ฺุฒ ุจุงุดู ฺฉู ููุชุธุฑุด ุจูุฏ! โจ</p>`,

      courses: {
        teen: ["Conversational English", "Group Discussions", "Interactive Roleplays"],
        adult: ["Public Speaking", "Networking English", "Social Communication Skills"]
      }
    },

    "Growth & Insight": {
      personality: "๐ฑ ุชู ุงุญุชูุงูุงู ุฌุฒู ุงู ุชูพโูุง ุดุฎุตุช ูุณุช: ENTP - INTP - ISFP - ISTP",
      description: `<p>ุชู ุจู ุฏูุจุงู ุนููุ ฺฉู ูุฑุงุชุฑ ุงุฒ ฺฉููุงุช ู ููุงุนุฏู. ุจุฑุงุช ูููู ฺฉู ุฒุจุงู ฺู ุชุฃุซุฑ ุฑู ุทุฑุฒ ูฺฉุฑุชุ ุฑู ุฑูุญุช ู ุฑู ูฺฏุงูุช ุจู ุฒูุฏฺฏ ูโุฐุงุฑู.
</p>
<br>
      <p>ุงุฏฺฏุฑ ุจุฑุง ุชู ู ูุณุฑ ุฑุดุฏ ุดุฎุตู. ุฏูุจุงู ูููุฏู ุฏูุงุ ฺฉู ูู ุจุฑูู ุงุฒ ุชูุฆูุ ูู ุฏุฑููุช.</p>
<p>ุฏุฑุณโูุง ููุช ุจุฑุงุช ูุนูุง ูพุฏุง ูโฺฉูู ฺฉู ุจู ุฒูุฏฺฏุ ููุณูู ุง ุฎูุฏุดูุงุณ ฺฏุฑู ุจุฎูุฑู.</p>
<p>๐ ฺฉูุงุณโูุง ฺฉู ุจุงุนุซ ุดู ุจุดุชุฑ ูฺฉุฑ ฺฉูุ ุงุฒ ุฏุฑููุช ุณุคุงู ุจูพุฑุณ ู ุจู ุฒูุฏฺฏ ุงุฒ ุฒุงูู ุชุงุฒูโุง ูฺฏุงู ฺฉูุ ุจูุช ุงูฺฏุฒู ูโุฏู.</p>
<p>๐ ุชู ุจุง ุจุญุซโูุง ุนููุ ุชุญููุ ู ฺฉุดู ูุงูโูุง ูพููุงู ุจุดุชุฑ ุงุฑุชุจุงุท ูโฺฏุฑ.</p>
<p>๐งโโ๏ธ ุจุฑุงุช ูููู ฺฉู ุฒุจุงู ููุท ุงุจุฒุงุฑ ุงุฑุชุจุงุท ูุจุงุดูุ ุจูฺฉู ูุณุฑ ุดูุงุฎุช ุฎูุฏุช ูู ุจุงุดู.</p>
<p>ููุช ุงุฏฺฏุฑ ุจุง ุฑุดุฏ ุฏุฑูู ฺฏุฑู ุจุฎูุฑูุ ูุณุฑุช ุฑูุดู ูโุดู ู ูุฐุช ุงุฏฺฏุฑ ฺูุฏ ุจุฑุงุจุฑ.</p>
<br>
<p>ุงูุง ุฏูุฑู ูุง ูุณุชู ฺฉ ุจุง ุฑูุญู ู ุดุฎุตุช ุชู ููุงููฺฏู. ุจูุช ูพุดููุงุฏ ูฺฉูู ุญุชูุง ุจุฑ ุฏูุจุงูุดูู ู ุชูุดูู ุดุฑฺฉุช ฺฉูโุ ุดุงุฏ ุฏููุง ูููู ฺุฒ ุจุงุดู ฺฉู ููุชุธุฑุด ุจูุฏ! โจ</p>`,

      courses: {
        teen: ["Mindful Reading", "Creative Reflection", "Growth Discussions"],
        adult: ["Life English", "Insightful Speaking", "Philosophy in Language"]
      }
    }
  };

  if (!finalCategory || !resultData[finalCategory]) {
    document.getElementById("result-personality").textContent = "ุงุทูุงุนุงุช ุชุณุช ูพุฏุง ูุดุฏ.";
    document.getElementById("result-description").textContent = "ูุทูุงู ุงุจุชุฏุง ุชุณุช ุฑุง ฺฉุงูู ุงูุฌุงู ุฏูุฏ.";
    return;
  }

  const result = resultData[finalCategory];
  document.getElementById("result-personality").textContent = result.personality;
  document.getElementById("result-description").innerHTML = result.description;

  const list = document.getElementById("courses-list");
  list.innerHTML = "";
  result.courses[ageGroup].forEach(item => {
    const li = document.createElement("li");
    li.textContent = item;
    list.appendChild(li);
  });
});
